# Instagramマーケティングアプリ 引継ぎ情報

---

## 1. プロジェクト概要・現状
- Instagram/Facebook認証、Stripe決済、OpenAI連携、管理者ダッシュボードを搭載したマーケティングアプリ。
- 認証・決済・AI連携は動作確認済み。
- ダッシュボードUI（分析・投稿分析・提案・スケジューラー）は全てダミーコンポーネント（仮実装）。

---

## 2. いじってはいけない箇所・注意点
- 認証・決済・APIキー管理部分は不用意に変更しない。
- .envファイルはGitHubにpush禁止。`.env.example`で雛形共有。
- Facebook/Instagram認証のリダイレクトURIは「https://localhost:3000/auth/callback」に統一。
- HTTPS証明書パスは環境に合わせて調整。

---

## 3. 主なエラーと対策
| エラー | 原因 | 対策 |
|--------|------|------|
| Facebook認証エラー | URIやポートの不一致 | .envとFacebookアプリ設定を完全一致 |
| Missing client_id | client_id未送信 | server.jsで定数を使うよう修正 |
| Invalid OAuth access token | トークン不正 | 認証フロー・受け渡し修正 |
| ダミーコンポーネント | 本実装未着手 | 各機能のAPI連携・実装が必要 |

---

## 4. 開発マニュアル
### 環境構築手順
1. リポジトリをクローン
2. ルートと/serverに.envを作成（.env.example参照）
3. 依存パッケージをインストール
4. サーバー・フロントエンドを起動
5. https://localhost:3000 にアクセス

### .env.example
```
VITE_INSTAGRAM_REDIRECT_URI=
VITE_API_BASE_URL=
OPENAI_API_KEY=
STRIPE_SECRET_KEY=
FACEBOOK_APP_ID=
FACEBOOK_APP_SECRET=
```

### よくあるトラブルと対策
| リスク | 原因 | 対策 |
|--------|------|------|
| Facebook認証エラー | URIやポートの不一致 | .envとFacebookアプリ設定を完全一致 |
| HTTPS証明書のエラー | localhost-key.pem認識されない | 別PCでは証明書を作り直す |
| Viteのポート衝突 | 5173になってしまう | vite.config.tsでポート3000を強制指定 |

---

## 5. 今後の主なタスク例
- [ ] AccountAnalytics.tsx: Instagram APIからアカウント情報取得・表示
- [ ] PostAnalysis.tsx: 投稿ごとの分析情報取得・表示
- [ ] ContentSuggestions.tsx: OpenAI APIで投稿案生成
- [ ] PostScheduler.tsx: 投稿予約機能の実装
- [ ] UI/UXの改善
- [ ] テスト・デバッグ

---

## 6. 参考情報
- package.jsonでNode.jsバージョン・依存パッケージを確認
- HTTPS証明書はPCごとに作り直しが必要な場合あり
- .envファイルは絶対にGitHubにpushしない

---

## 7. 連絡・相談
- 不明点や追加サポートが必要な場合は、READMEやSlack等で連絡 